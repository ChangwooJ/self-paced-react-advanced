From 2d9a07c8621477d00cda1484e1301c5f8a481794 Mon Sep 17 00:00:00 2001
From: ChangwooJ <wjdckddn99@naver.com>
Date: Thu, 22 May 2025 13:17:59 +0900
Subject: [PATCH 3/3] =?UTF-8?q?Feat:=20=EC=BB=A4=EC=8A=A4=ED=85=80=20?=
 =?UTF-8?q?=ED=9B=85=EC=9C=BC=EB=A1=9C=20=EB=B3=80=EA=B2=BD?=
MIME-Version: 1.0
Content-Type: text/plain; charset=UTF-8
Content-Transfer-Encoding: 8bit

---
 src/component/aside/AddRestaurantModal.jsx  |  6 +++---
 src/component/aside/RestaurantInfoModal.jsx |  6 +++---
 src/component/body/CategorySortFilter.jsx   |  5 ++---
 src/component/body/RestaurantList.jsx       |  5 ++---
 src/hooks/useRestaurantContext.jsx          | 10 ++++++++++
 src/pages/Header.jsx                        |  4 ++--
 src/store/RestaurantProvider.jsx            | 10 ++++------
 7 files changed, 26 insertions(+), 20 deletions(-)
 create mode 100644 src/hooks/useRestaurantContext.jsx

diff --git a/src/component/aside/AddRestaurantModal.jsx b/src/component/aside/AddRestaurantModal.jsx
index 44bfc98..035c002 100644
--- a/src/component/aside/AddRestaurantModal.jsx
+++ b/src/component/aside/AddRestaurantModal.jsx
@@ -1,10 +1,10 @@
-import React, { useState, useContext } from 'react';
+import React, { useState } from 'react';
 import styled from 'styled-components';
 import { Typography } from '../../styles/GlobalStyle';
 import insertImgSrc from '../utils/insertImgSrc';
 import Modal from './Modal';
 import Button from '../Button';
-import { RestaurantContext } from '../../store/RestaurantContext';
+import { useRestaurantContext } from '../../hooks/useRestaurantContext';
 
 const FormItem = styled.div`
   display: flex;
@@ -48,7 +48,7 @@ const initForm = {
 };
 
 const AddRestaurantModal = () => {
-  const { isAddModalOpen, setIsAddModalOpen, addRestaurant } = useContext(RestaurantContext);
+  const { isAddModalOpen, setIsAddModalOpen, addRestaurant } = useRestaurantContext();
   const [form, setForm] = useState(initForm);
   const [loading, setLoading] = useState(false);
 
diff --git a/src/component/aside/RestaurantInfoModal.jsx b/src/component/aside/RestaurantInfoModal.jsx
index 342a649..24bb700 100644
--- a/src/component/aside/RestaurantInfoModal.jsx
+++ b/src/component/aside/RestaurantInfoModal.jsx
@@ -1,9 +1,9 @@
-import React, { useContext } from 'react';
+import React from 'react';
 import styled from 'styled-components';
 import { Typography } from '../../styles/GlobalStyle';
 import Modal from './Modal';
 import Button from '../Button';
-import { RestaurantContext } from '../../store/RestaurantContext';
+import { useRestaurantContext } from '../../hooks/useRestaurantContext';
 
 const RestaurantInfo = styled.div`
   margin-bottom: 24px;
@@ -14,7 +14,7 @@ const ButtonContainer = styled.div`
 `;
 
 const RestaurantInfoModal = () => {  
-  const { isModalOpen, setIsModalOpen, selectedRestaurant, restaurants } = useContext(RestaurantContext);
+  const { isModalOpen, setIsModalOpen, selectedRestaurant, restaurants } = useRestaurantContext();
   const restaurant = restaurants.find(restaurant => restaurant.id === selectedRestaurant);
 
   return (
diff --git a/src/component/body/CategorySortFilter.jsx b/src/component/body/CategorySortFilter.jsx
index f09f3c7..e057be1 100644
--- a/src/component/body/CategorySortFilter.jsx
+++ b/src/component/body/CategorySortFilter.jsx
@@ -1,6 +1,5 @@
-import { useContext } from 'react';
 import styled from 'styled-components';
-import { RestaurantContext } from '../../store/RestaurantContext';
+import { useRestaurantContext } from '../../hooks/useRestaurantContext';
 
 const FilterContainer = styled.section`
   display: flex;
@@ -20,7 +19,7 @@ const CategorySelect = styled.select`
 `;
 
 const CategorySortFilter = () => {
-  const { category, setCategory } = useContext(RestaurantContext);
+  const { category, setCategory } = useRestaurantContext();
 
   const handleChange = (e) => {
     setCategory(e.target.value);
diff --git a/src/component/body/RestaurantList.jsx b/src/component/body/RestaurantList.jsx
index c0aedad..9b3295e 100644
--- a/src/component/body/RestaurantList.jsx
+++ b/src/component/body/RestaurantList.jsx
@@ -1,8 +1,7 @@
-import { useContext } from 'react';
 import styled from 'styled-components';
 import { Typography } from '../../styles/GlobalStyle';
 import insertImgSrc from '../utils/insertImgSrc';
-import { RestaurantContext } from '../../store/RestaurantContext';
+import { useRestaurantContext } from '../../hooks/useRestaurantContext';
 
 const RestaurantListContainer = styled.section`
   display: flex;
@@ -67,7 +66,7 @@ const RestaurantListComponent = () => {
     filteredRestaurants, 
     setIsModalOpen, 
     setSelectedRestaurant 
-  } = useContext(RestaurantContext);
+  } = useRestaurantContext();
 
   const handleRestaurantClick = (restaurantId) => {
     setIsModalOpen(true);
diff --git a/src/hooks/useRestaurantContext.jsx b/src/hooks/useRestaurantContext.jsx
new file mode 100644
index 0000000..824341a
--- /dev/null
+++ b/src/hooks/useRestaurantContext.jsx
@@ -0,0 +1,10 @@
+import { useContext } from 'react';
+import { RestaurantContext } from '../store/RestaurantContext';
+
+export const useRestaurantContext = () => {
+  const context = useContext(RestaurantContext);
+  if (!context) {
+    throw new Error('RestaurantContext 에러 발생');
+  }
+  return context;
+};
\ No newline at end of file
diff --git a/src/pages/Header.jsx b/src/pages/Header.jsx
index deed060..032531b 100644
--- a/src/pages/Header.jsx
+++ b/src/pages/Header.jsx
@@ -1,6 +1,6 @@
 import styled from 'styled-components';
 import { Typography } from '../styles/GlobalStyle';
-import { RestaurantContext } from '../store/RestaurantContext';
+import { useRestaurantContext } from '../hooks/useRestaurantContext';
 
 const HeaderContainer = styled.header`
   display: flex;
@@ -28,7 +28,7 @@ const AddButtonImage = styled.img`
 `;
 
 const Header = () => {
-  const { setIsAddModalOpen } = useContext(RestaurantContext);
+  const { setIsAddModalOpen } = useRestaurantContext();
 
   return (
     <HeaderContainer>
diff --git a/src/store/RestaurantProvider.jsx b/src/store/RestaurantProvider.jsx
index 91c8352..3c2a98e 100644
--- a/src/store/RestaurantProvider.jsx
+++ b/src/store/RestaurantProvider.jsx
@@ -1,7 +1,7 @@
-import { useState } from "react";
-import { RestaurantContext } from "./ThemeContext";
+import { useEffect, useState } from "react";
+import { RestaurantContext } from "./RestaurantContext";
 
-function RestaurantProvider({ children }) {
+export const RestaurantProvider = ({ children }) => {
     const [restaurants, setRestaurants] = useState([]);
     const [isAddModalOpen, setIsAddModalOpen] = useState(false);
     const [isModalOpen, setIsModalOpen] = useState(false);
@@ -68,6 +68,4 @@ function RestaurantProvider({ children }) {
       {children}
     </RestaurantContext.Provider>
   );
-}
-
-export default RestaurantProvider;
+};
-- 
2.44.0.windows.1

